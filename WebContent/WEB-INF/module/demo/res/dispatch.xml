<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE xml>
<config>
        <dispatch>
                <servlet>
                        <name>addEmployeeInfo</name>
                        <description><![CDATA[添加雇员信息]]></description>
                        <namespace>
                                <![CDATA[
                                        <!-- 检查用户名是否存在 -->
                                        [!select][demo][selectEmployeeInfo][name];
                                        <!-- 添加雇员信息 -->
                                        [insert][demo][insertEmployeeInfo][uuid,name,password,age,sex,code,address,remark];
                                        <!-- 返回新添加的雇员信息 -->
                                        [select][demo][selectEmployeeInfo][uuid];
                                ]]>
                        </namespace>
                        <permission>none</permission>
                        <parameters>
                                <parameter>
                                        <name>uuid</name>
                                        <description><![CDATA[uuid主键]]></description>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#uuid</constant>
                                </parameter>
                                <parameter>
                                        <name>name</name>
                                        <description><![CDATA[用户名（4-16位下划线、横线、字符或数字）]]></description>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z_-]{4,16}$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                                <parameter>
                                        <name>password</name>
                                        <description><![CDATA[密码（1-16位非空白符）]]></description>
                                        <type>string</type>
                                        <format>^\S{1,16}$</format>
                                        <transform>#encrypt_md5</transform>
                                        <allowNull>false</allowNull>
                                </parameter>
                                <parameter>
                                        <name>age</name>
                                        <description><![CDATA[年龄（1-999岁）]]></description>
                                        <type>integer</type>
                                        <format>^\d{1,3}$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                                <parameter>
                                        <name>sex</name>
                                        <description><![CDATA[性别（男1 女0）]]></description>
                                        <type>integer</type>
                                        <format>^[01]$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                                <parameter>
                                        <name>code</name>
                                        <description><![CDATA[身份证号码（常量值 370103）]]></description>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>370103</constant>
                                </parameter>
                                <parameter>
                                        <name>address</name>
                                        <description><![CDATA[地址（4-100个任意字符）]]></description>
                                        <type>string</type>
                                        <format>^.{4,100}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>remark</name>
                                        <description><![CDATA[备注（当前记录的时间戳）]]></description>
                                        <type>string</type>
                                        <format>#constant#</format>
                                        <constant>#timestamp[yyyy-MM-dd HH:mm:ss]</constant>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <name>removeEmployeeInfoByUuid</name>
                        <description><![CDATA[删除雇员信息]]></description>
                        <namespace>
                                <![CDATA[
                                        <!-- 检查uuid是否有效 -->
                                        [select][demo][selectEmployeeInfo][uuid];
                                        <!-- 删除雇员信息 -->
                                        [delete][demo][deleteEmployeeInfo][uuid];
                                ]]>
                        </namespace>
                        <permission>none</permission>
                        <parameters>
                                <parameter>
                                        <name>uuid</name>
                                        <description><![CDATA[uuid主键]]></description>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <name>removeEmployeeInfoBySex</name>
                        <description><![CDATA[删除雇员信息]]></description>
                        <namespace>
                                <![CDATA[
                                        <!-- 检查uuid是否有效 -->
                                        [select][demo][selectEmployeeInfo][selectSex->sex];
                                        <!-- 删除雇员信息 -->
                                        [delete][demo][deleteEmployeeInfo][sex];
                                ]]>
                        </namespace>
                        <permission>none</permission>
                        <parameters>
                                <parameter>
                                        <!-- 测试别名的有效性 -->
                                        <name>selectSex</name>
                                        <description><![CDATA[性别（男1 女0）]]></description>
                                        <type>integer</type>
                                        <format>^[01]$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <name>modifyEmployeePassword</name>
                        <description><![CDATA[修改雇员密码]]></description>
                        <namespace>
                                <![CDATA[
                                        <!-- 检查uuid是否有效 -->
                                        [select][demo][selectEmployeeInfo][employeeUuid->uuid];
                                        <!-- 修改雇员信息 -->
                                        [update][demo][updateEmployeeInfo][employeeUuid->uuid,password];
                                ]]>
                        </namespace>
                        <permission>none</permission>
                        <parameters>
                                <parameter>
                                        <name>employeeUuid</name>
                                        <description><![CDATA[uuid主键]]></description>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                                <parameter>
                                        <name>password</name>
                                        <description><![CDATA[密码（1-16位非空白符）]]></description>
                                        <type>string</type>
                                        <format>^\S{1,16}$</format>
                                        <transform>#encrypt_md5</transform>
                                        <allowNull>false</allowNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <name>modifyEmployeeInfo</name>
                        <description><![CDATA[修改雇员信息]]></description>
                        <namespace>
                                <![CDATA[
                                        <!-- 检查uuid是否有效 -->
                                        [select][demo][selectEmployeeInfo][employeeUuid->uuid];
                                        <!-- 修改雇员信息 -->
                                        [update][demo][updateEmployeeInfo][employeeUuid->uuid,age,sex,address,remark];
                                ]]>
                        </namespace>
                        <permission>none</permission>
                        <parameters>
                                <parameter>
                                        <name>employeeUuid</name>
                                        <description><![CDATA[uuid主键]]></description>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                                <parameter>
                                        <name>age</name>
                                        <description><![CDATA[年龄（1-999岁）]]></description>
                                        <type>integer</type>
                                        <format>^\d{1,3}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>sex</name>
                                        <description><![CDATA[性别（男1 女0）]]></description>
                                        <type>integer</type>
                                        <format>^[01]$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>address</name>
                                        <description><![CDATA[地址（4-100个任意字符）]]></description>
                                        <type>string</type>
                                        <format>^.{4,100}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>remark</name>
                                        <description><![CDATA[备注（当前记录的时间戳）]]></description>
                                        <type>string</type>
                                        <format>^.{4,100}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                        </parameters>
                </servlet>
                <servlet>
                        <name>selectEmployeeInfo</name>
                        <description><![CDATA[查询雇员信息]]></description>
                        <namespace>
                                <![CDATA[
                                        [select][demo][selectEmployeeInfo][employeeUuid->uuid,name,age,sex,code,address,remark,offset,rows];
                                ]]>
                        </namespace>
                        <permission>none</permission>
                        <parameters>
                                <parameter>
                                        <name>employeeUuid</name>
                                        <description><![CDATA[uuid主键]]></description>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z]{32}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>name</name>
                                        <description><![CDATA[用户名（4-16位下划线、横线、字符或数字）]]></description>
                                        <type>string</type>
                                        <format>^[0-9a-zA-Z_-]{4,16}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>age</name>
                                        <description><![CDATA[年龄（1-999岁）]]></description>
                                        <type>integer</type>
                                        <format>^\d{1,3}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>sex</name>
                                        <description><![CDATA[性别（男1 女0）]]></description>
                                        <type>integer</type>
                                        <format>^[01]$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>code</name>
                                        <description><![CDATA[身份证号码（4-16个任意字符）]]></description>
                                        <type>string</type>
                                        <format>^.{1,16}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>address</name>
                                        <description><![CDATA[地址（4-100个任意字符）]]></description>
                                        <type>string</type>
                                        <format>^.{4,100}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>remark</name>
                                        <description><![CDATA[备注（当前记录的时间戳）]]></description>
                                        <type>string</type>
                                        <format>^.{4,100}$</format>
                                        <allowNull>true</allowNull>
                                </parameter>
                                <parameter>
                                        <name>offset</name>
                                        <description><![CDATA[偏移（大于等于0的数字）]]></description>
                                        <type>integer</type>
                                        <format>^[0-9]+$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                                <parameter>
                                        <name>rows</name>
                                        <description><![CDATA[行数（大于等于1的数字）]]></description>
                                        <type>integer</type>
                                        <format>^[1-9]+[0-9]*$</format>
                                        <allowNull>false</allowNull>
                                </parameter>
                        </parameters>
                </servlet>
        </dispatch>
</config>
