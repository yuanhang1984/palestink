<!DOCTYPE html>
<html>
<head>
<meta charset = "utf-8" />
<!-- *********************************************************************** -->
<!-- plugin css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" href = "../../plugin/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel = "stylesheet" href = "../../plugin/font-awesome/3.2.1/css/font-awesome.min.css">
<!-- *********************************************************************** -->
<!-- custom css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" type = "text/css" href = "../../css/global.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSLabel.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSTable.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSButton.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSWindow.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSCheckBox.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSComboBox.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSTextField.css"/>
<link rel = "stylesheet" type = "text/css" href = "./management.css"/>
<!-- *********************************************************************** -->
<!-- plugin js -->
<!-- *********************************************************************** -->
<script src = "../../plugin/jquery/1.12.4/jquery.min.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../plugin/bootstrap/3.3.7/js/bootstrap.min.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../plugin/jquery-nicescroll/3.7.6/jquery.nicescroll.min.js" type = "text/javascript" charset = "utf-8"></script>
<!-- *********************************************************************** -->
<!-- custom js -->
<!-- *********************************************************************** -->
<script src = "../../js/toolkit/JString.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../js/system/Configure.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSLabel.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSTable.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSButton.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSWindow.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSCheckBox.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSComboBox.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSTextField.js" type = "text/javascript" charset = "utf-8"></script>
<script>
////////////////////////////////////////////////////////////////////////////////
// ECMAScript规范
////////////////////////////////////////////////////////////////////////////////
"use strict";
////////////////////////////////////////////////////////////////////////////////
// ModuleListWindow
////////////////////////////////////////////////////////////////////////////////
class ModuleListWindow {
  constructor() {
    ////////////////////////////////////////////////////////////////////////////
    // checkbox对象
    ////////////////////////////////////////////////////////////////////////////
    this.checkBox_1 = new JSCheckBox();
    this.checkBox_2 = new JSCheckBox();
    this.checkBox_2.setSelected(true);
    this.checkBox_3 = new JSCheckBox();
    this.checkBox_4 = new JSCheckBox();
    this.checkBox_5 = new JSCheckBox();
    this.checkBox_6 = new JSCheckBox();
    this.checkBox_6.setSelected(true);
    this.checkBox_1.generateCode();
    this.checkBox_2.generateCode();
    this.checkBox_3.generateCode();
    this.checkBox_4.generateCode();
    this.checkBox_5.generateCode();
    this.checkBox_6.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Module列表
    ////////////////////////////////////////////////////////////////////////////
    this.listTable = new JSTable();
    this.listTable.setClass("table-striped table-bordered");
    this.listTable.setClass("table-striped table-bordered");
    this.listTable.setThead(
      [
        {
          "text": "Name",
          "colspan": -1
        },
        {
          "text": "Description",
          "colspan": -1
        },
        {
          "text": "Source Code Rebuild",
          "colspan": -1
        },
        {
          "text": "Module Enable",
          "colspan": -1
        },
        {
          "text": "Docs Enable",
          "colspan": -1
        },
        {
          "text": "Remove",
          "colspan": -1
        }
      ]
    );
    this.listTable.addTbody(
      [
        {
          "text": "file_storage",
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": `<span>File Manager For Upload File</span><i class = "icon-edit"></i>`,
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": this.checkBox_1.getCode(),
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": this.checkBox_2.getCode(),
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": this.checkBox_3.getCode(),
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": `<i class = "icon-remove"></i>`,
          "value": "",
          "colspan": -1,
          "rowspan": -1
        }
      ]
    );
    this.listTable.addTbody(
      [
        {
          "text": "filter",
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": `<span>Set Filter For Web Service</span><i class = "icon-edit"></i>`,
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": this.checkBox_4.getCode(),
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": this.checkBox_5.getCode(),
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": this.checkBox_6.getCode(),
          "value": "",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": `<i class = "icon-remove"></i>`,
          "value": "",
          "colspan": -1,
          "rowspan": -1
        }
      ]
    );
    this.listTable.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Create按钮
    ////////////////////////////////////////////////////////////////////////////
    this.createBtn = new JSButton();
    this.createBtn.setText("Create");
    this.createBtn.setClass("btn-primary");
    this.createBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 主窗体对象
    ////////////////////////////////////////////////////////////////////////////
    this.mainWindow = new JSWindow();
    this.mainWindow.setWindowDecorationStyle("FRAME");
    this.mainWindow.setTitle("Module List");
    this.mainWindow.setClass("ModuleListWindow");
    this.mainWindow.setContent(`
      <div>${this.listTable.getCode()}</div>
      <div>${this.createBtn.getCode()}</div>
    `);
    this.mainWindow.generateCode();
  }
}
////////////////////////////////////////////////////////////////////////////////
// RemoveConfirmWindow
////////////////////////////////////////////////////////////////////////////////
class RemoveConfirmWindow {
  constructor() {
    ////////////////////////////////////////////////////////////////////////////
    // Content标签
    ////////////////////////////////////////////////////////////////////////////
    this.cntLB = new JSLabel();
    this.cntLB.setText("Do you want to remove this module?");
    this.cntLB.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Submit按钮
    ////////////////////////////////////////////////////////////////////////////
    this.submitBtn = new JSButton();
    this.submitBtn.setText("Submit");
    this.submitBtn.setClass("btn-primary");
    this.submitBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 取消按钮
    ////////////////////////////////////////////////////////////////////////////
    this.cancelBtn= new JSButton();
    this.cancelBtn.setText("Cancel");
    this.cancelBtn.setClass("btn-default");
    this.cancelBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 主窗体对象
    ////////////////////////////////////////////////////////////////////////////
    this.mainWindow = new JSWindow();
    this.mainWindow.setTitle("Remove Confirm");
    this.mainWindow.setWindowDecorationStyle("DIALOG");
    this.mainWindow.setContent(`
      <div>${this.cntLB.getCode()}</div>
      <div>${this.submitBtn.getCode() + this.cancelBtn.getCode()}</div>
    `);
    this.mainWindow.setClass("RemoveConfirmWindow");
    this.mainWindow.generateCode();
  }
}
////////////////////////////////////////////////////////////////////////////////
// CreateModuleWindow
////////////////////////////////////////////////////////////////////////////////
class CreateModuleWindow {
  constructor() {
    ////////////////////////////////////////////////////////////////////////////
    // Name输入框
    ////////////////////////////////////////////////////////////////////////////
    this.nameTF = new JSTextField();
    this.nameTF.setPlaceHolder("Name");
    this.nameTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Description输入框
    ////////////////////////////////////////////////////////////////////////////
    this.descTF = new JSTextField();
    this.descTF.setPlaceHolder("Description");
    this.descTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // ModuleStatus下拉菜单
    ////////////////////////////////////////////////////////////////////////////
    this.modStatusCB = new JSComboBox();
    this.modStatusCB.setType("dropdown");
    this.modStatusCB.addItem({
      "type": "option",
      "text": "Module Status",
      "value": 1,
      "enable": false
    });
    this.modStatusCB.addItem({
      "type": "option",
      "text": "Enable",
      "value": 1,
      "enable": true 
    });
    this.modStatusCB.addItem({
      "type": "option",
      "text": "Disable",
      "value": 0,
      "enable": true
    });
    this.modStatusCB.setSelectedIndex(0);
    this.modStatusCB.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // ModuleApi下拉菜单
    ////////////////////////////////////////////////////////////////////////////
    this.modApiCB = new JSComboBox();
    this.modApiCB.setType("dropdown");
    this.modApiCB.addItem({
      "type": "option",
      "text": "Module Api",
      "value": 1,
      "enable": false
    });
    this.modApiCB.addItem({
      "type": "option",
      "text": "Show",
      "value": 1,
      "enable": true 
    });
    this.modApiCB.addItem({
      "type": "option",
      "text": "Hide",
      "value": 0,
      "enable": true
    });
    this.modApiCB.setSelectedIndex(0);
    this.modApiCB.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Submit按钮
    ////////////////////////////////////////////////////////////////////////////
    this.submitBtn = new JSButton();
    this.submitBtn.setText("Submit");
    this.submitBtn.setClass("btn-primary");
    this.submitBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Cancel按钮
    ////////////////////////////////////////////////////////////////////////////
    this.cancelBtn = new JSButton();
    this.cancelBtn.setText("Cancel");
    this.cancelBtn.setClass("btn-default");
    this.cancelBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 主窗体对象
    ////////////////////////////////////////////////////////////////////////////
    this.mainWindow = new JSWindow();
    this.mainWindow.setTitle("Create Module");
    this.mainWindow.setWindowDecorationStyle("DIALOG");
    this.mainWindow.setContent(`
      <div>${this.nameTF.getCode()}</div>
      <div>${this.descTF.getCode()}</div>
      <div>${this.modStatusCB.getCode()}</div>
      <div>${this.modApiCB.getCode()}</div>
      <div>${this.submitBtn.getCode() + this.cancelBtn.getCode()}</div>
    `);
    this.mainWindow.setClass("CreateModuleWindow");
    this.mainWindow.generateCode();
  }
}
////////////////////////////////////////////////////////////////////////////////
// ModifyModuleDescriptionWindow
////////////////////////////////////////////////////////////////////////////////
class ModifyModuleDescriptionWindow {
  constructor() {
    ////////////////////////////////////////////////////////////////////////////
    // Description输入框
    ////////////////////////////////////////////////////////////////////////////
    this.descTF = new JSTextField();
    this.descTF.setPlaceHolder("Description");
    this.descTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Modify按钮
    ////////////////////////////////////////////////////////////////////////////
    this.modifyBtn = new JSButton();
    this.modifyBtn.setText("Modify");
    this.modifyBtn.setClass("btn-primary");
    this.modifyBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 取消按钮
    ////////////////////////////////////////////////////////////////////////////
    this.cancelBtn= new JSButton();
    this.cancelBtn.setText("Cancel");
    this.cancelBtn.setClass("btn-default");
    this.cancelBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 主窗体对象
    ////////////////////////////////////////////////////////////////////////////
    this.mainWindow = new JSWindow();
    this.mainWindow.setTitle("Modify Module Description");
    this.mainWindow.setWindowDecorationStyle("DIALOG");
    this.mainWindow.setContent(`
      <div>${this.descTF.getCode()}</div>
      <div>${this.modifyBtn.getCode() + this.cancelBtn.getCode()}</div>
    `);
    this.mainWindow.setClass("ModifyModuleDescriptionWindow");
    this.mainWindow.generateCode();
  }
}
</script>
<script>
//////////////////////////////////////////////////////////////////////////////
// ECMAScript规范
//////////////////////////////////////////////////////////////////////////////
"use strict";
//////////////////////////////////////////////////////////////////////////////
// ModuleListWindow对象
//////////////////////////////////////////////////////////////////////////////
let mlw = new ModuleListWindow();
//////////////////////////////////////////////////////////////////////////////
// RemoveConfirmWindow对象
//////////////////////////////////////////////////////////////////////////////
let rcw = new RemoveConfirmWindow();
//////////////////////////////////////////////////////////////////////////////
// CreateModuleWindow对象
//////////////////////////////////////////////////////////////////////////////
let cmw = new CreateModuleWindow();
//////////////////////////////////////////////////////////////////////////////
// ModifyModuleDescriptionWindow对象
//////////////////////////////////////////////////////////////////////////////
let mmdw = new ModifyModuleDescriptionWindow();
////////////////////////////////////////////////////////////////////////////////
// 输出代码
////////////////////////////////////////////////////////////////////////////////
$(document).ready(function() {
  $("#moduleListWindowArea").html(mlw.mainWindow.getCode());
  $("#createModuleWindowArea").html(cmw.mainWindow.getCode());
  $("#modifyModuleDescriptionWindowArea").html(mmdw.mainWindow.getCode());
  $("#removeConfirmWindowArea").html(rcw.mainWindow.getCode());
  // 设置滚动条属性
  $("body").niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  $("#" + mlw.mainWindow.getId()).niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  $("#" + rcw.mainWindow.getId()).niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  $("#" + cmw.mainWindow.getId()).niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  $("#" + mmdw.mainWindow.getId()).niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  // 绑定下拉菜单事件
  cmw.modStatusCB.update();
  cmw.modApiCB.update();
  // 关联创建按钮打开模态窗口
  $("#" + mlw.createBtn.getId()).attr("data-toggle", "modal");
  $("#" + mlw.createBtn.getId()).attr("data-target", "#" + cmw.mainWindow.getId());
  // 关联取消按钮关闭模态窗口
  $("#" + rcw.cancelBtn.getId()).attr("data-dismiss", "modal");
  $("#" + cmw.cancelBtn.getId()).attr("data-dismiss", "modal");
  $("#" + mmdw.cancelBtn.getId()).attr("data-dismiss", "modal");
  $("#" + mlw.listTable.getId()).find("tbody").find("tr").find("td:nth-child(2)").find("i").click(function() {
    $("#showMMDWBtn").attr("data-target", "#" + mmdw.mainWindow.getId());
    // $("#showMMDWBtn").attr("data-id", "");
    $("#showMMDWBtn").trigger("click");
  });
  $("#" + mlw.listTable.getId()).find("tbody").find("tr").find("td:last-child").find("i").click(function() {
    $("#showROPBtn").attr("data-target", "#" + rcw.mainWindow.getId());
    // $("#showROPBtn").attr("data-id", "");
    $("#showROPBtn").trigger("click");
  });
});
</script>
<title>Module Management</title>
</head>
<body>
  <div id = "moduleListWindowArea"></div>
  <div id = "createModuleWindowArea"></div>
  <div id = "modifyModuleDescriptionWindowArea"></div>
  <div id = "removeConfirmWindowArea"></div>
  <button style = "display: none;" type = "button" id = "showMMDWBtn" data-toggle = "modal"></button>
  <button style = "display: none;" type = "button" id = "showROPBtn" data-toggle = "modal"></button>
</body>
</html>
