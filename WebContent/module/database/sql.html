<!DOCTYPE html>
<html>
<head>
<meta charset = "utf-8" />
<!-- *********************************************************************** -->
<!-- plugin css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" href = "../../plugin/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel = "stylesheet" href = "../../plugin/font-awesome/3.2.1/css/font-awesome.min.css">
<!-- *********************************************************************** -->
<!-- custom css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" type = "text/css" href = "../../css/global.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSButton.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSWindow.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSComboBox.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSTextArea.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSTextField.css"/>
<link rel = "stylesheet" type = "text/css" href = "./sql.css"/>
<!-- *********************************************************************** -->
<!-- plugin js -->
<!-- *********************************************************************** -->
<script src = "../../plugin/jquery/1.12.4/jquery.min.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../plugin/bootstrap/3.3.7/js/bootstrap.min.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../plugin/jquery-nicescroll/3.7.6/jquery.nicescroll.min.js" type = "text/javascript" charset = "utf-8"></script>
<!-- *********************************************************************** -->
<!-- custom js -->
<!-- *********************************************************************** -->
<script src = "../../js/toolkit/JString.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../js/system/Configure.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSButton.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSWindow.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSComboBox.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSTextArea.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSTextField.js" type = "text/javascript" charset = "utf-8"></script>
<script>
////////////////////////////////////////////////////////////////////////////////
// ECMAScript规范
////////////////////////////////////////////////////////////////////////////////
"use strict";
////////////////////////////////////////////////////////////////////////////////
// SqlListWindow
////////////////////////////////////////////////////////////////////////////////
class SqlListWindow {
  constructor() {
    ////////////////////////////////////////////////////////////////////////////
    // 模块下拉菜单
    ////////////////////////////////////////////////////////////////////////////
    this.modCB = new JSComboBox();
    this.modCB.setType("dropdown");
    this.modCB.addItem({
      "type": "option",
      "text": "Select Module",
      "value": "-1",
      "enable": false
    });
    this.modCB.addItem({
      "type": "option",
      "text": "file_storage",
      "value": "file_storage",
      "enable": true
    });
    this.modCB.addItem({
      "type": "option",
      "text": "user_login",
      "value": "user_login",
      "enable": true
    });
    this.modCB.addItem({
      "type": "option",
      "text": "user_status",
      "value": "user_status",
      "enable": true
    });
    this.modCB.setSelectedIndex(0);
    this.modCB.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 文件内容输入框
    ////////////////////////////////////////////////////////////////////////////
    this.cntTA = new JSTextArea();
    this.cntTA.setPlaceHolder("请输入名称");
    this.cntTA.setText("hello world");
    this.cntTA.setClass("form-control");
    this.cntTA.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 上传按钮
    ////////////////////////////////////////////////////////////////////////////
    this.uploadBtn = new JSButton();
    this.uploadBtn.setText("Upload");
    this.uploadBtn.setClass("btn-primary");
    this.uploadBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 创建下载按钮
    ////////////////////////////////////////////////////////////////////////////
    this.downloadBtn = new JSButton();
    this.downloadBtn.setText("Download");
    this.downloadBtn.setClass("btn-primary");
    this.downloadBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 主窗体对象
    ////////////////////////////////////////////////////////////////////////////
    this.mainWindow = new JSWindow();
    this.mainWindow.setWindowDecorationStyle("FRAME");
    this.mainWindow.setTitle("SQL List");
    this.mainWindow.setClass("SqlListWindow");
    let mainWindowCode = `
      <div>${this.modCB.getCode()}</div>
      <div>${this.cntTA.getCode()}</div>
      <div>${this.uploadBtn.getCode() + this.downloadBtn.getCode()}</div>
    `;
    this.mainWindow.setContent(mainWindowCode);
    this.mainWindow.generateCode();
  }
}
</script>
<script>
//////////////////////////////////////////////////////////////////////////////
// ECMAScript规范
//////////////////////////////////////////////////////////////////////////////
"use strict";
//////////////////////////////////////////////////////////////////////////////
// SqlListWindow对象
//////////////////////////////////////////////////////////////////////////////
let slw = new SqlListWindow();
//////////////////////////////////////////////////////////////////////////////
// 输出代码
//////////////////////////////////////////////////////////////////////////////
$(document).ready(function() {
  $("#sqlListWindowArea").html(slw.mainWindow.getCode());
  $("body").niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  $("#" + slw.mainWindow.getId()).niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  slw.modCB.update();
  // 文件内容输入框自适应窗口最大尺寸
  $(slw.mainWindow.getObject()).find(".panel-body").find("div").find("textarea").css("height",
    $(document).height()
    - parseInt($("body").css("padding-top")) * 2
    - parseInt($("body").css("padding-bottom")) * 2
    - parseInt(slw.mainWindow.getObject().css("border-width")) * 2
    - parseInt(slw.mainWindow.getObject().find(".panel-heading").css("height"))
    - parseInt(slw.mainWindow.getObject().find(".panel-body").css("padding-top"))
    - parseInt(slw.mainWindow.getObject().find(".panel-body").css("padding-bottom"))
    - parseInt(slw.mainWindow.getObject().find(".panel-body").find("div:nth-child(1)").css("height"))
    - parseInt(slw.mainWindow.getObject().find(".panel-body").find("div:nth-child(3)").css("height"))
    + "px"
  );
});
</script>
<title>Database SQL</title>
</head>
<body>
  <div id = "sqlListWindowArea"></div>
</body>
</html>
