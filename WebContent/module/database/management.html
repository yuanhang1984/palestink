<!DOCTYPE html>
<html>
<head>
<meta charset = "utf-8" />
<!-- *********************************************************************** -->
<!-- plugin css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" href = "../../plugin/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel = "stylesheet" href = "../../plugin/font-awesome/3.2.1/css/font-awesome.min.css">
<!-- *********************************************************************** -->
<!-- custom css -->
<!-- *********************************************************************** -->
<link rel = "stylesheet" type = "text/css" href = "../../css/global.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSTable.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSButton.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSWindow.css"/>
<link rel = "stylesheet" type = "text/css" href = "../../lib/css/default_theme/JSTextField.css"/>
<link rel = "stylesheet" type = "text/css" href = "./management.css"/>
<!-- *********************************************************************** -->
<!-- plugin js -->
<!-- *********************************************************************** -->
<script src = "../../plugin/jquery/1.12.4/jquery.min.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../plugin/bootstrap/3.3.7/js/bootstrap.min.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../plugin/jquery-nicescroll/3.7.6/jquery.nicescroll.min.js" type = "text/javascript" charset = "utf-8"></script>
<!-- *********************************************************************** -->
<!-- custom js -->
<!-- *********************************************************************** -->
<script src = "../../js/toolkit/JString.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../js/system/Configure.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSTable.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSButton.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSWindow.js" type = "text/javascript" charset = "utf-8"></script>
<script src = "../../lib/js/JSTextField.js" type = "text/javascript" charset = "utf-8"></script>
<script>
////////////////////////////////////////////////////////////////////////////////
// ECMAScript规范
////////////////////////////////////////////////////////////////////////////////
"use strict";
////////////////////////////////////////////////////////////////////////////////
// ConnectionListWindow
////////////////////////////////////////////////////////////////////////////////
class ConnectionListWindow {
  constructor() {
    ////////////////////////////////////////////////////////////////////////////
    // Connection列表
    ////////////////////////////////////////////////////////////////////////////
    this.listTable = new JSTable();
    this.listTable.setClass("table-striped table-bordered");
    this.listTable.setThead(
      [
        {
          "text": "Name",
          "colspan": -1
        },
        {
          "text": "Driver",
          "colspan": -1
        },
        {
          "text": "User",
          "colspan": -1
        },
        {
          "text": "Url",
          "colspan": -1
        },
        {
          "text": "Operation",
          "colspan": -1
        }
      ]
    );
    this.listTable.addTbody(
      [
        {
          "text": "local_mysql_ink",
          "value": "local_mysql_ink",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": "com.mysql.jdbc.Driver",
          "value": "com.mysql.jdbc.Driver",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": "root",
          "value": "root",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": "jdbc:mysql://127.0.0.1:3306/ink?useUnicode=true&characterEncoding=utf-8&useSSL=true",
          "value": "jdbc:mysql://127.0.0.1:3306/ink?useUnicode=true&characterEncoding=utf-8&useSSL=true",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": `<i class = "icon-link"></i><i class = "icon-edit"></i><i class = "icon-remove"></i>`,
          "value": "",
          "colspan": -1,
          "rowspan": -1
        }
      ]
    );
    this.listTable.addTbody(
      [
        {
          "text": "local_mysql_fjerp",
          "value": "local_mysql_fjerp",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": "com.mysql.jdbc.Driver",
          "value": "com.mysql.jdbc.Driver",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": "root",
          "value": "root",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": "jdbc:mysql://127.0.0.1:3306/ink?useUnicode=true&characterEncoding=utf-8&useSSL=true",
          "value": "jdbc:mysql://127.0.0.1:3306/ink?useUnicode=true&characterEncoding=utf-8&useSSL=true",
          "colspan": -1,
          "rowspan": -1
        },
        {
          "text": `<i class = "icon-link"></i><i class = "icon-edit"></i><i class = "icon-remove"></i>`,
          "value": "",
          "colspan": -1,
          "rowspan": -1
        }
      ]
    );
    this.listTable.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Create按钮
    ////////////////////////////////////////////////////////////////////////////
    this.createBtn = new JSButton();
    this.createBtn.setText("Create");
    this.createBtn.setClass("btn-primary");
    this.createBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 主窗体对象
    ////////////////////////////////////////////////////////////////////////////
    this.mainWindow = new JSWindow();
    this.mainWindow.setWindowDecorationStyle("FRAME");
    this.mainWindow.setTitle("Connection List");
    this.mainWindow.setClass("ConnectionListWindow");
    this.mainWindow.setContent(`
      <div>${this.listTable.getCode()}</div>
      <div>${this.createBtn.getCode()}</div>
    `);
    this.mainWindow.generateCode();
  }
}
////////////////////////////////////////////////////////////////////////////////
// ConnectionCreateWindow
////////////////////////////////////////////////////////////////////////////////
class ConnectionCreateWindow {
  constructor() {
    ////////////////////////////////////////////////////////////////////////////
    // Name输入框
    ////////////////////////////////////////////////////////////////////////////
    this.nameTF = new JSTextField();
    this.nameTF.setPlaceHolder("Name");
    this.nameTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Driver输入框
    ////////////////////////////////////////////////////////////////////////////
    this.driverTF = new JSTextField();
    this.driverTF.setPlaceHolder("Driver");
    this.driverTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // User输入框
    ////////////////////////////////////////////////////////////////////////////
    this.userTF = new JSTextField();
    this.userTF.setPlaceHolder("User");
    this.userTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Password输入框
    ////////////////////////////////////////////////////////////////////////////
    this.pwdTF = new JSTextField();
    this.pwdTF.setPlaceHolder("Password");
    this.pwdTF.setType("password");
    this.pwdTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // Url输入框
    ////////////////////////////////////////////////////////////////////////////
    this.urlTF = new JSTextField();
    this.urlTF.setPlaceHolder("Url");
    this.urlTF.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 测试按钮
    ////////////////////////////////////////////////////////////////////////////
    this.testBtn = new JSButton();
    this.testBtn.setText("Test");
    this.testBtn.setClass("btn-success");
    this.testBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 提交按钮
    ////////////////////////////////////////////////////////////////////////////
    this.submitBtn = new JSButton();
    this.submitBtn.setText("Submit");
    this.submitBtn.setClass("btn-primary");
    this.submitBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 取消按钮
    ////////////////////////////////////////////////////////////////////////////
    this.cancelBtn = new JSButton();
    this.cancelBtn.setText("Cancel");
    this.cancelBtn.setClass("btn-default");
    this.cancelBtn.generateCode();
    ////////////////////////////////////////////////////////////////////////////
    // 主窗体对象
    ////////////////////////////////////////////////////////////////////////////
    this.mainWindow = new JSWindow();
    this.mainWindow.setTitle("Create Connection");
    this.mainWindow.setWindowDecorationStyle("DIALOG");
    this.mainWindow.setContent(`
      <div>${this.nameTF.getCode()}</div>
      <div>${this.driverTF.getCode()}</div>
      <div>${this.userTF.getCode()}</div>
      <div>${this.pwdTF.getCode()}</div>
      <div>${this.urlTF.getCode()}</div>
      <div>${this.testBtn.getCode() + this.submitBtn.getCode() + this.cancelBtn.getCode()}</div>
    `);
    this.mainWindow.setClass("ConnectionCreateWindow");
    this.mainWindow.generateCode();
  }
}
</script>
<script>
//////////////////////////////////////////////////////////////////////////////
// ECMAScript规范
//////////////////////////////////////////////////////////////////////////////
"use strict";
//////////////////////////////////////////////////////////////////////////////
// ConnectionListWindow对象
//////////////////////////////////////////////////////////////////////////////
let clw = new ConnectionListWindow();
//////////////////////////////////////////////////////////////////////////////
// ConnectionCreateWindow对象
//////////////////////////////////////////////////////////////////////////////
let ccw = new ConnectionCreateWindow();
////////////////////////////////////////////////////////////////////////////////
// 输出代码
////////////////////////////////////////////////////////////////////////////////
$(document).ready(function() {
  $("#connectionListWindowArea").html(clw.mainWindow.getCode());
  $("#connectionCreateWindowArea").html(ccw.mainWindow.getCode());
  // 设置滚动条属性
  $("body").niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  $("#" + clw.mainWindow.getId()).niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  $("#" + ccw.mainWindow.getId()).niceScroll({cursorcolor: "#65CEA7", cursorwidth: "2px", cursorborder: "0px", cursorborderradius: "2px"});
  // 关联创建按钮打开窗口
  $("#" + clw.createBtn.getId()).attr("data-toggle", "modal");
  $("#" + clw.createBtn.getId()).attr("data-target", "#" + ccw.mainWindow.getId());
  // 关联取消按钮关闭模态窗口
  $("#" + ccw.cancelBtn.getId()).attr("data-dismiss", "modal");
});
</script>
<title>Database Management</title>
</head>
<body>
  <div id = "connectionListWindowArea"></div>
  <div id = "connectionCreateWindowArea"></div>
</body>
</html>
